/** * Generic function checks if element is in viewport */function isElementVisible(el) {    const rect = el.getBoundingClientRect(),        vWidth = window.innerWidth || document.documentElement.clientWidth,        vHeight = window.innerHeight || document.documentElement.clientHeight,        efp = function (x, y) {            return document.elementFromPoint(x, y)        };    // Return false if it's not in the viewport    if (rect.right < 0 || rect.bottom < 0        || rect.left > vWidth || rect.top > vHeight)        return false;    // Return true if any of its four corners are visible    return (        el.contains(efp(rect.left, rect.top))        || el.contains(efp(rect.right, rect.top))        || el.contains(efp(rect.right, rect.bottom))        || el.contains(efp(rect.left, rect.bottom))    );}/** * Menu */function joerivanveen() {    // our function that decides whether the navigation bar should have "fixed" css position or not.    function sticky_navigation() {        const header = document.getElementById('masthead');        if (!header) return;        const headerHeight = header.offsetHeight,            site = document.getElementById('page'),            scrollY = window.scrollY,            // calculate window width, only use sticky header on tablet/mobile            ems = window.innerWidth / parseFloat(window.getComputedStyle(document.body).getPropertyValue('font-size'));        // if we've scrolled more than the navigation, change its position to fixed to stick to top (class=scroll),        if (ems <= 56.875) {            // Tablet or Mobile version            header.classList.remove('scroll');            site.style.paddingTop ='0';        } else if (scrollY > 1) {            header.classList.add('scroll');            site.style.paddingTop = '0';        } else {            header.classList.remove('scroll');            site.style.paddingTop = `${headerHeight}px`;        }    }    // run our function on load    sticky_navigation();    window.addEventListener('scroll', sticky_navigation);    window.addEventListener('resize', sticky_navigation);    /**     * Parallax showcase image     */    document.addEventListener('scroll', function () {        requestAnimationFrame(function () {            const y = window.scrollY,                h = window.innerHeight,            photo = document.querySelector('.featured_photograph.desktop');            if (photo && y < h) {                /* position starts at 20% conform css */                photo.style.backgroundPositionY = `${(20 - y/10)}%`;            }        });    }, {'passive': true});    /**     * wp-developer.eu svg image animation     */    if (document.getElementById('imagelayers')) {        let el;        window.imagelayers = [];        for (let i = 0; i < 100; i++) {            if ((el = document.getElementById('imagelayer' + i)))                window.imagelayers.push({el: el, level: i});        }        document.addEventListener('scroll', function () {            requestAnimationFrame(function () {                const y = window.scrollY;                for (let i = 0; i < window.imagelayers.length; i++) {                    window.imagelayers[i].el.style.transform = 'translateY(' + -(y * window.imagelayers[i].level) / 10 + 'px)';                }            });        }, {'passive': true});    }}/** * startup */if (document.readyState !== 'loading') {    joerivanveen();} else {    document.addEventListener('DOMContentLoaded', function () {        joerivanveen();    });}